<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Login Do Sistema PaLib</title>
    </h:head>
    <h:body>

        <b:growl delay="4000" show-summary="true" show-detail="true"/>

        <b:jumbotron>
            Login: PALib
        </b:jumbotron>

        <p:dialog draggable="false" resizable="false" visible="true"
                  closable="false" closeOnEscape="false" modal="false">

            <f:facet name="header">
                Logar no PALib
            </f:facet>

            <b:form id="formLogin">
                <b:panelGrid columns="1">
                    <h:outputText value="login:"/>
                    <b:inputText value="#{login}" placeholder="CodNome"/>

                    <h:outputText value="senha:"/>
                    <b:inputSecret value="#{senha}" placeholder="Senha"/>
                </b:panelGrid>
                <p:panel>
                    <h5>registre-se</h5>
                    <b:link value="Cadastre-se" onclick="$('#modalCadUsuario').modal('show')"/>
                </p:panel>
                <b:commandButton value="logar" style="float: right"
                                 style-class="btn btn-primary"
                                 action="#{loginController.logar(login, senha)}"/>
            </b:form>
            
            <b:form id="formPagamento">
                <b:commandButton value="realizarPagamaneto" style="float: right"
                                 style-class="btn btn-primary"
                                 action="#{pagamentoController.realizarPagamento()}"/>
            </b:form>
        </p:dialog>

        <b:modal id="modalCadUsuario" style-class="fade modal-fade"
                 title="Cadastre-se em nosso sistema">

            <b:form id="formCadUsuario">
                <b:panelGrid columns="2">

                    <h:outputText value="Nome"/>
                    <b:inputText value="#{usuarioController.user.nome}" required="true" required-message="Nome Completo"/>

                    <h:outputText value="Nick"/>
                    <b:inputText value="#{usuarioController.user.apelido}" required="true" required-message="Lembre do Nick"/>

                    <h:outputText value="CPF"/>
                    <b:inputText value="#{usuarioController.user.cpf}"/>

                    <h:outputText value="Telefone"/>
                    <b:inputText value="#{usuarioController.user.telefone}"/>

                    <h:outputText value="Rua"/>
                    <b:inputText value="#{usuarioController.user.endereco.nome}"/>

                    <h:outputText value="Bairro"/>
                    <b:inputText value="#{usuarioController.user.endereco.bairro}"/>

                    <h:outputText value="Numero"/>
                    <b:inputText value="#{usuarioController.user.endereco.numero}"/>

                    <h:outputText value="Cidade"/>
                    <b:inputText value="#{usuarioController.user.endereco.cidade}"/>

                    <h:outputText value="Senha"/>
                    <b:inputSecret value="#{usuarioController.user.senha}" required="true" required-message="Preencha a Senha"/>

                    <h:outputText value="Confirmar Senha"/>
                    <b:inputSecret value="#{senha}"/>

                </b:panelGrid>
                <b:commandButton value="registrar" action="#{usuarioController.inserir(senha)}"/>
            
            </b:form>

        </b:modal>

    </h:body>
</html>

